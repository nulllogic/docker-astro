---
import Sections from "~/layouts/sections.astro";
import { Debug } from "astro/components";
import Toc from "../../../../components/toc.astro";

import { getCollection, getEntry } from "astro:content";
const sectionsCollection = await getCollection("sections");
const page = await getEntry(
  "sections",
  Astro.params.version.replace(/\./g, "") +
    "/" +
    Astro.params.lang +
    "/" +
    Astro.params.slug,
);

const { headings, Content } = await page.render();

console.log(headings);
---

<Sections>
  <div class="content">
    <div class="intro">
      <h1 class="title">{page?.data?.title}</h1>
      <p class="subtitle">{page?.data?.description}</p>
    </div>
    <Content />
  </div>
</Sections>

<style lang="scss">
  .title {
    margin-bottom: 0.5rem;
  }

  .subtitle {
    font-size: 1.5rem;
    font-weight: 300;
    margin-bottom: 1rem;
    color: rgba(125, 133, 144, 1);
  }

  .toc {
    grid-area: toc;

    position: sticky;
    top: 0;
    right: 0;
    z-index: 2;

    align-self: start;
  }

  .content {
    grid-area: content;
    min-width: 1px;
  }
</style>
